<h1><%- title %></h1>
<%- messages() %>

<% if (errors) { %>
    <ul class="validation-errors">
        <% errors.array().forEach(error => { %>
            <li><%= error.msg %></li>
        <% }) %>
    </ul>
<% } %>

<div class="form-container">
    <form id="newMessageForm" action="/messages/new" method="post">
        <fieldset>
            <div class="form-group">
                <label for="message_to">To:</label>
                <%- recipientList %>        <%# The <select tag in partial is required %>
            </div>

            <div class="form-group">
                <label for="message_subject">Subject:</label>
                <input type="text" id="message_subject" name="message_subject" required
                       value="<%= locals.message_subject || '' %>">
            </div>

            <div class="form-group">
                <label for="message_body">Message:</label>
                <textarea id="message_body" name="message_body" rows="8" required><%= locals.message_body || '' %></textarea>
            </div>

            <button type="submit" class="form-button">Send Message</button>
        </fieldset>
    </form>
</div>